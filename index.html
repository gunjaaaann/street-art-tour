<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pam the Bird Trail</title>

  <!-- Leaflet CSS and JS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Poppins:wght@500;600&display=swap" rel="stylesheet">


  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      display: flex; 
      height: 100vh;
      overflow: hidden;
    }


    #map {
      flex: 1; 
    }

    .leaflet-popup-content a {
      color: #00bfa5;
      text-decoration: none;
      font-weight: bold;
    }

    .leaflet-popup-content a:hover {
      text-decoration: underline;
    }

    .sidebar {
      position: absolute;
      top: 40px;          
      right: 20px;         
      width: 270px;
      height: 285px;       
      background-color: #00bfa5; 
      padding: 20px;
      box-shadow: 2px 2px 10px rgba(0,0,0,0.3);
      border-radius: 25px;
      overflow-y: auto;
      z-index: 1000;
    }


    .nav {
      position: fixed;
      top: 1.5em;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 4em;
      background: rgba(0, 0, 0, 1);
      backdrop-filter: blur(6px);
      padding: 0.6em 1.5em;
      border-radius: 40px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
      font-family: 'Helvetica Neue', sans-serif;
      letter-spacing: 0.5px;
      z-index: 9999;
    }

    .nav h1 {
      margin: 0.5em;
      font-size: 20px;
      color: #00bfa5;
      transition: all 0.25s ease;
    }

    h2 {
      font-size: 18px;
    }

    .corner-button {
      position: fixed;
      bottom: 2em;
      right: 2em;
      background: #00bfa5;
      font-family: 'Poppins', sans-serif;
      border: none;
      padding: 1em 3em;
      border-radius: 40px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      cursor: pointer;
      transition: all 0.25s ease;
      z-index: 9999;
    }

    .corner-button a {
      text-decoration: none;
      color: rgb(0, 0, 0);
    }

    .corner-button:hover {
      background: #019f8a;
      transform: translateY(-2px);
    }



  </style>
</head>

<body>
  <div class="nav">
    <h1>Spot the Pam</h1>
  </div>

  <div id="map"></div>

  <div class="sidebar">
    <h2 style="justify-self: center;">Directions & Notes</h2>
    <ul>
      <li>Hop on the Sunbury line from Flinder's Street Station.</li>
      <li>Begin exploring the locations from the first Pam on the East end and make your way towards the West.</li> 
      <li>There are 6 locations in this tour.</li>
      <li>Follow the train line markers to each Pam location.</li>
      <li>Hover or click on markers to learn more.</li>
      <li>Take photos along the trail!</li>
    </ul>
  </div>
  <button class="corner-button"><a href="references-ai.html">References and AI declaration</a></button>

  <script>
    // Initialize map
    const map = L.map('map').setView([-37.80, 144.92], 12);

    // Add base map
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
      attribution: '&copy; <a href="https://carto.com/">CARTO</a>'
    }).addTo(map);

    // Pam the Bird locations
    const locations = [
      { name: "Pam Location 1", coords: [-37.81227778, 144.94691667], url: "pam1.html" },
      { name: "Pam Location 2", coords: [-37.81022222, 144.94436111], url: "pam2.html" },
      { name: "Pam Location 3", coords: [-37.80077778, 144.90377778], url: "pam3.html" },
      { name: "Pam Location 4", coords: [-37.80200000, 144.90111111], url: "pam4.html" },
      { name: "Pam Location 5", coords: [-37.79752778, 144.84691667], url: "pam5.html" },
      { name: "Pam Location 6", coords: [-37.77738889, 144.82466667], url: "pam6.html" }
    ];

    // Define a custom Pam icon
    const pamIcon = L.icon({
      iconUrl: 'images/pam_icon.png',
      iconSize: [50, 50],
      iconAnchor: [20, 40],
      popupAnchor: [0, -35]
    });

    // Create markers using the custom icon
    locations.forEach(loc => {
      const marker = L.marker(loc.coords, { icon: pamIcon }).addTo(map);

      // Create popup content
      const popupContent = `<b>${loc.name}</b><br><a href="${loc.url}">View page â†’</a>`;

      // Bind popup
      marker.bindPopup(popupContent);

      // Open popup on hover
      marker.on('mouseover', function() {
        this.openPopup();
      });

      // Click navigates to page
      marker.on('click', () => {
        if(loc.url) window.location.href = loc.url;
      });
    });

    // Draw straight route connecting all points (train line path)
    const routeCoords = locations.map(loc => loc.coords);
    L.polyline(routeCoords, {
      color: '#00bfa5',
      weight: 4,
      opacity: 0.9,
      smoothFactor: 1
    }).addTo(map);

    // Fit map view to route
    map.fitBounds(L.polyline(routeCoords).getBounds());
  </script>
</body>
</html>
